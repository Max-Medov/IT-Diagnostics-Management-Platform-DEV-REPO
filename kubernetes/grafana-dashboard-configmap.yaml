apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboard
  namespace: it-diagnostics
data:
  auth-service-dashboard.json: |
    {
      "dashboards": [
        {
          "dashboard": {
            "title": "Auth Service Metrics",
            "panels": [
              {
                "type": "graph",
                "title": "HTTP Requests",
                "targets": [
                  {
                    "expr": "http_requests_total{job='kubernetes-pods'}",
                    "legendFormat": "{{method}} {{status}}",
                    "refId": "A"
                  }
                ]
              }
            ],
            "schemaVersion": 16,
            "version": 1
          },
          "provider": "default",
          "folder": "",
          "overwrite": true
        }
      ]
    }
